# [22. æ‹¬å·ç”Ÿæˆ](https://leetcode-cn.com/problems/generate-parentheses/)

---

éš¾åº¦ `ä¸­ç­‰` | æ ‡ç­¾ `å­—ç¬¦ä¸²` `å›æº¯ç®—æ³•`  | ä¸ªäººæ ‡ç­¾ ğŸŒ€ | è·èµ `1012`

---

## Description

<p>æ•°å­— <em>n</em>&nbsp;ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” <strong>æœ‰æ•ˆçš„ </strong>æ‹¬å·ç»„åˆã€‚</p>
<p>&nbsp;</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><strong>è¾“å…¥ï¼š</strong>n = 3
<strong>è¾“å‡ºï¼š</strong>[
       "((()))",
       "(()())",
       "(())()",
       "()(())",
       "()()()"
     ]
</pre>


## My Solution

```python
classÂ Solution:
Â Â Â Â defÂ generateParenthesis(self,Â n:Â int):
Â Â Â Â Â Â Â Â defÂ switch(s,res):
Â Â Â Â Â Â Â Â Â Â Â Â res.append(''.join(s))
Â Â Â Â Â Â Â Â Â Â Â Â i=0
Â Â Â Â Â Â Â Â Â Â Â Â l=r=0
Â Â Â Â Â Â Â Â Â Â Â Â whileÂ i<2*n-1:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ s[i]+s[i+1]=='()'Â andÂ l>r:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â k=s.copy()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â k[i+1],k[i]=k[i],k[i+1]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ ''.join(k)Â notÂ inÂ res:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â switch(k,res)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â l,r=l+1,r+1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â i+=2
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ s[i]=='(':Â l+=1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ s[i]==')':Â r+=1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â i+=1
Â Â Â Â Â Â Â Â res=[]
Â Â Â Â Â Â Â Â s=list(n*'('+n*')')
Â Â Â Â Â Â Â Â switch(s,res)
Â Â Â Â Â Â Â Â returnÂ res
```

- æ„Ÿè§‰ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯è°ƒè¯•äº†å¾ˆä¹…è€Œä¸”å†™çš„å¥½éº»çƒ¦ï¼Œåº”è¯¥è¿˜å¯ä»¥ç®€åŒ–

- å®˜æ–¹è§£æ³•æœ‰ä¸ªæ€è·¯ï¼Œå·²çŸ¥æˆ‘ä»¬è¦æ±‚çš„generateå‡½æ•°æ˜¯æ ¹æ®è¾“å…¥nè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„æ‹¬å·åŒ¹é…ï¼Œæˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„æ‹¬å·è‚¯å®šéƒ½æ˜¯`(sub1)sub2`æ„æˆçš„ï¼Œå…¶ä¸­`sub1` `sub2`åˆ†åˆ«æ˜¯åˆæ³•çš„å­ä¸²ï¼Œå†ç®—ä¸Šæœ¬èº«å¸¦çš„ä¸€ä¸ª`()`ä¸€å…±è¦æœ‰`n`å¯¹æ‹¬å·ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨å‡½æ•°é€’å½’æ±‚ï¼Œ`(generate(i))genrate(n-1-i)`ï¼Œæ­¥éª¤å°±æ˜¯éå†$i\in [0,n-1]$ï¼Œç„¶åæ¯æ¬¡æ‹¼æ¥è¿™å‡ ä¸ªä¸²ï¼Œå°±æ˜¯ç­”æ¡ˆäº†ã€‚

```python
class Solution:
    @lru_cache(None)
    def generateParenthesis(self, n: int) -> List[str]:
        if n == 0:
            return ['']
        ans = []
        for c in range(n):
            for left in self.generateParenthesis(c):
                for right in self.generateParenthesis(n-1-c):
                    ans.append('({}){}'.format(left, right))
        return ans
```

  ###  