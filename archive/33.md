# [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/)

---

éš¾åº¦ `ä¸­ç­‰` | æ ‡ç­¾ `æ•°ç»„` `äºŒåˆ†æŸ¥æ‰¾`  | ä¸ªäººæ ‡ç­¾ ğŸŒ€ | è·èµ `722`

---

## Description

<p>å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚</p>
<p>( ä¾‹å¦‚ï¼Œæ•°ç»„&nbsp;<code>[0,1,2,4,5,6,7]</code>&nbsp;å¯èƒ½å˜ä¸º&nbsp;<code>[4,5,6,7,0,1,2]</code>&nbsp;)ã€‚</p>
<p>æœç´¢ä¸€ä¸ªç»™å®šçš„ç›®æ ‡å€¼ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›&nbsp;<code>-1</code>&nbsp;ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤çš„å…ƒç´ ã€‚</p>
<p>ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯&nbsp;<em>O</em>(log&nbsp;<em>n</em>) çº§åˆ«ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<pre><strong>è¾“å…¥:</strong> nums = [<code>4,5,6,7,0,1,2]</code>, target = 0
<strong>è¾“å‡º:</strong> 4
</pre>

<p><strong>ç¤ºä¾‹&nbsp;2:</strong></p>
<pre><strong>è¾“å…¥:</strong> nums = [<code>4,5,6,7,0,1,2]</code>, target = 3
<strong>è¾“å‡º:</strong> -1</pre>

## My Solution

- è¦æ±‚æ—¶é—´å¤æ‚åº¦ $O(\log n)$ ï¼Œé¦–å…ˆæƒ³åˆ°äºŒåˆ†æ³•ï¼Œç¬¬ä¸€æ¬¡å†™ä»£ç å†™æ€»ä¸å¯¹....çœ‹äº†ä¸€ç‚¹ç‚¹æç¤ºï¼Œè¦åˆ¤æ–­å·¦å³åºåˆ—æ˜¯å¦æœ‰åºå°±å®¹æ˜“è®¸å¤šäº†ï¼Œä¸è¿‡è¿˜æ˜¯è¾¹ç•Œä¸Šè°ƒäº†å¾ˆä¹…ã€‚å…¶å®å†™éº»çƒ¦äº†ï¼Œåˆ¤æ–­æ¡ä»¶å¯ä»¥é‡æ•´æ›´ä¼˜åŒ–ï¼Œè¿™å¤ªå•°å—¦äº†ã€‚

```python
classÂ Solution:
Â Â Â Â defÂ search(self,Â nums:Â List[int],Â target:Â int)Â ->Â int:
Â Â Â Â Â Â Â Â l,r=0,len(nums)-1
Â Â Â Â Â Â Â Â flag=0
Â Â Â Â Â Â Â Â whileÂ l<=r:
Â Â Â Â Â Â Â Â Â Â Â Â mid=(r-l)//2+l
Â Â Â Â Â Â Â Â Â Â Â Â flag1=TrueÂ ifÂ nums[mid]>=nums[l]Â elseÂ False
Â Â Â Â Â Â Â Â Â Â Â Â flag2=TrueÂ ifÂ nums[r]>=nums[mid]Â elseÂ False
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ nums[mid]>target:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ flag1:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ nums[l]<target:r=mid-1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elifÂ nums[l]>target:l=mid+1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â else:Â returnÂ l
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â else:Â r=mid-1
Â Â Â Â Â Â Â Â Â Â Â Â elifÂ nums[mid]<target:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ flag2:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ nums[r]>target:Â l=mid+1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elifÂ nums[r]<target:Â r=mid-1
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â else:Â returnÂ r
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â else:Â l=mid+1
Â Â Â Â Â Â Â Â Â Â Â Â else:Â returnÂ mid
Â Â Â Â Â Â Â Â returnÂ -1
```

æœ‰ä¸€ä¸ªå¼‚æˆ–çš„ç¥ä»™è§£æ³•ï¼Œæ€è·¯æ¥æº[è¯¦è§é¢˜è§£](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/ji-jian-solution-by-lukelee/)ï¼š

```python
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        l,r=0,len(nums)-1
        while l<r:
            mid=(l+r)//2
            if (nums[0]>target) ^ (nums[0]>nums[mid]) ^ (target>nums[mid]):
                l=mid+1
            else:
                r=mid
        return l if l==r and nums[l]==target else -1
```

