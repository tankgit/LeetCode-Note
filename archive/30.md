# [30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²](https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/)

---

éš¾åº¦ `å›°éš¾` | æ ‡ç­¾ `å“ˆå¸Œè¡¨` `åŒæŒ‡é’ˆ` `å­—ç¬¦ä¸²`  | ä¸ªäººæ ‡ç­¾ ãŠ™ï¸ | è·èµ `258`

---

## Description

<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²&nbsp;<strong>s&nbsp;</strong>å’Œä¸€äº›é•¿åº¦ç›¸åŒçš„å•è¯&nbsp;<strong>wordsã€‚</strong>æ‰¾å‡º <strong>s </strong>ä¸­æ°å¥½å¯ä»¥ç”±&nbsp;<strong>words </strong>ä¸­æ‰€æœ‰å•è¯ä¸²è”å½¢æˆçš„å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚</p>
<p>æ³¨æ„å­ä¸²è¦ä¸&nbsp;<strong>words </strong>ä¸­çš„å•è¯å®Œå…¨åŒ¹é…ï¼Œä¸­é—´ä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ï¼Œä½†ä¸éœ€è¦è€ƒè™‘&nbsp;<strong>words&nbsp;</strong>ä¸­å•è¯ä¸²è”çš„é¡ºåºã€‚</p>
<p>&nbsp;</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><strong>è¾“å…¥ï¼š
  s =</strong> "barfoothefoobarman",
<strong>  words = </strong>["foo","bar"]
<strong>è¾“å‡ºï¼š</strong><code>[0,9]</code>
<strong>è§£é‡Šï¼š</strong>
ä»ç´¢å¼• 0 å’Œ 9 å¼€å§‹çš„å­ä¸²åˆ†åˆ«æ˜¯ "barfoo" å’Œ "foobar" ã€‚
è¾“å‡ºçš„é¡ºåºä¸é‡è¦, [9,0] ä¹Ÿæ˜¯æœ‰æ•ˆç­”æ¡ˆã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><strong>è¾“å…¥ï¼š
  s =</strong> "wordgoodgoodgoodbestword",
<strong>  words = </strong>["word","good","best","word"]
<code><strong>è¾“å‡ºï¼š</strong>[]</code>
</pre>

## My Solution

- æˆ‘çš„æš´åŠ›è§£æ³•ğŸ˜…ï¼Œæ—¶é—´ä¸Šä¸ªç©ºé—´ä¸Šéƒ½æ‰“è´¥äº†ç™¾åˆ†ä¹‹ä¸ªä½æ•°çš„ç½‘å‹ğŸ¥´

```python
classÂ Solution:
Â Â Â Â defÂ findSubstring(self,Â s:Â str,Â words:Â List[str])Â ->Â List[int]:
Â Â Â Â Â Â Â Â ifÂ notÂ sÂ orÂ notÂ words:Â returnÂ []
Â Â Â Â Â Â Â Â res=[]
Â Â Â Â Â Â Â Â lw=len(words[0])
Â Â Â Â Â Â Â Â ll=len(words)
Â Â Â Â Â Â Â Â forÂ iÂ inÂ range(len(s)):
Â Â Â Â Â Â Â Â Â Â Â Â sub=s[i:i+lw*ll]
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ sorted([sub[x*lw:(x+1)*lw]Â forÂ xÂ inÂ range(ll)])==sorted(words):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res.append(i)
Â 
Â Â Â Â Â Â Â Â returnÂ res
```

- å…¶å®ç­”é¢˜æ€è·¯å°±æ˜¯æˆ‘çš„æ–¹æ³•ï¼Œä¸è¿‡ç»†èŠ‚å®ç°ä¸Šè¿‡äºç²—ç³™ï¼Œæš´åŠ›ä½¿ç”¨å„ç§pythonä½æ•ˆç‡æ–¹æ³•ï¼Œä»¥ä¸‹è§£æ³•åšäº†ä¸€äº›ä¼˜åŒ–ã€‚

  - é¦–å…ˆè€ƒè™‘ï¼Œæ¯ä¸ªè¯åªæœ‰mé•¿åº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœç´¢åªæœ‰mç§åˆå§‹æƒ…å†µï¼Œå°±æ˜¯ä»sçš„ç¬¬0...m-1ä¸ªå…ƒç´ å¼€å§‹ï¼Œå‘åæœç´¢ï¼Œæ¯æ¬¡è·³mä¸ªé•¿åº¦ã€‚æ‰€ä»¥ä¸€å¼€å§‹ç¬¬ä¸€å±‚å¾ªç¯æ˜¯éå†ä¸€ä¸ªè¯çš„é•¿åº¦ã€‚
  - ç”Ÿæˆä¸€ä¸ªCounterè®°å½•åŸwordsæ¯ä¸ªè¯çš„æ¬¡æ•°ï¼Œåœ¨sä¸Šæ»‘åŠ¨ï¼Œæ¯æ¬¡è®°å½•å·¦ç«¯ç‚¹ä¿æŒä¸åŠ¨ï¼Œå¾€å³ä¸€ä¸ªå•è¯ä¸€ä¸ªå•è¯æ»‘åŠ¨ï¼Œé‡åˆ°ä¸€ä¸ªè¯ï¼Œå°±åŠ ä¸€ä¸ªè¿™ä¸ªè¯çš„countï¼Œå¦‚æœè¶…è¿‡äº†wordsé‡Œçš„countï¼Œå°±æŠŠå·¦ç«¯ç‚¹å¾€å³ç§»åŠ¨ï¼Œç›´åˆ°countä¸è¶…è¿‡wordsåŸæœ¬çš„countï¼Œè¿™æ—¶å€™æ¯”è¾ƒæ‰¾åˆ°çš„è¯æ€»æ•°æ˜¯å¦ä¸wordsé•¿åº¦å‘åº¦ï¼Œå°±å¯ä»¥å†³å®šæ˜¯å¦è®°å½•å·¦ç«¯ç‚¹äº†ã€‚æœ€é‡Œå±‚å¾ªç¯æ¡ä»¶åˆšå¥½å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠéæœç´¢è¯è·³è¿‡ï¼ŒåŒæ—¶æ’å‡ºå¤šä½™çš„é‡å¤è¯ã€‚

  ```python
  class Solution:
      def findSubstring(self, s: str, words: List[str]) -> List[int]:
          from collections import Counter
          if not s or not words:return []
          one_word = len(words[0])
          word_num = len(words)
          n = len(s)
          words = Counter(words)
          res = []
          for i in range(0, one_word):
              cur_cnt = 0
              left = i
              right = i
              cur_Counter = Counter()
              while right + one_word <= n:
                  w = s[right:right + one_word]
                  right += one_word
                  cur_Counter[w] += 1
                  cur_cnt += 1
                  while cur_Counter[w] > words[w]:
                      left_w = s[left:left+one_word]
                      left += one_word
                      cur_Counter[left_w] -= 1
                      cur_cnt -= 1
                  if cur_cnt == word_num :
                      res.append(left)
          return res
  ```

### 